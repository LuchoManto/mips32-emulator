<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>MIPS32-Emulator: /home/lucho/lucho/emuladormips/mips32-emulator/src/disassembler.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="1034528.da0ea8f9eea6d079b1ba3cf58cb0cd3b.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MIPS32-Emulator
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">a small IDE for a Mips32 microprocessor emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">disassembler.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>file containing functions meant to assemble the code from an elf script  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="headers_8h_source.html">headers.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="reader_8h_source.html">reader.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="disassembler_8h_source.html">disassembler.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="errors_8h_source.html">errors.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="environment_8h_source.html">environment.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab38b7e9260d741791b6f913a1431ee84"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="disassembler_8c.html#ab38b7e9260d741791b6f913a1431ee84">compile</a> (struct <a class="el" href="structptype.html">ptype</a> *mips)</td></tr>
<tr class="memdesc:ab38b7e9260d741791b6f913a1431ee84"><td class="mdescLeft">&#160;</td><td class="mdescRight">this function calls the other functions in this file and in others, to compile an elf script for now, this function only reads a file. It's all it can do for the moment. The objetive for the first increment was to be able to include a "debug" command in a script and that way check the status of the processor after the last instruction befor "debug" was excecuted. But there were some bugs found at the last moment with function parseline that made this not possible.  <a href="#ab38b7e9260d741791b6f913a1431ee84">More...</a><br/></td></tr>
<tr class="separator:ab38b7e9260d741791b6f913a1431ee84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac13adfdfac6a5ac811cdd9f1f9fc13a9"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="disassembler_8c.html#ac13adfdfac6a5ac811cdd9f1f9fc13a9">parseline</a> (struct <a class="el" href="structptype.html">ptype</a> *mips)</td></tr>
<tr class="memdesc:ac13adfdfac6a5ac811cdd9f1f9fc13a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">this function parses the line entered by user and identifies the tag, the operation, the arguments, and gets rid of the commentaries  <a href="#ac13adfdfac6a5ac811cdd9f1f9fc13a9">More...</a><br/></td></tr>
<tr class="separator:ac13adfdfac6a5ac811cdd9f1f9fc13a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aed72e6510270f49d3f3dba42605a80"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="disassembler_8c.html#a7aed72e6510270f49d3f3dba42605a80">splitstr</a> (struct <a class="el" href="structptype.html">ptype</a> *mips)</td></tr>
<tr class="memdesc:a7aed72e6510270f49d3f3dba42605a80"><td class="mdescLeft">&#160;</td><td class="mdescRight">this function splits the field full_script from a ptype scructure into nlines lines and stores each line in field scriptlines[][] from the same structure  <a href="#a7aed72e6510270f49d3f3dba42605a80">More...</a><br/></td></tr>
<tr class="separator:a7aed72e6510270f49d3f3dba42605a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>file containing functions meant to assemble the code from an elf script </p>
<dl class="section author"><dt>Author</dt><dd>Luciano Mantovani </dd></dl>
<dl class="section date"><dt>Date</dt><dd>October 2014 This file has functions called by the main program when it has to assemble an elf script.</dd></dl>
<p>for now, it only has two main functions: compile and parseline. The idea is to parse line per line and store the disassembler code in memory, but this is not yet implemented. For now, the only thing this disassembler does is read a text from an .elf file, remove the commentary and store it in a string, which is a field of the general structure ptype.</p>
<p>there's an extra function called splitstr that is used by compile </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab38b7e9260d741791b6f913a1431ee84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptype.html">ptype</a>* compile </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td>
          <td class="paramname"><em>mips</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this function calls the other functions in this file and in others, to compile an elf script for now, this function only reads a file. It's all it can do for the moment. The objetive for the first increment was to be able to include a "debug" command in a script and that way check the status of the processor after the last instruction befor "debug" was excecuted. But there were some bugs found at the last moment with function parseline that made this not possible. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*mips</td><td>A pointer to a ptype structure, created by the main program. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>it returns the pointer to the same structure, but modified </dd></dl>
<dl class="section note"><dt>Note</dt><dd>ptype type variables that modifies: full_script </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>"debug" and "restart" </dd></dl>

</div>
</div>
<a class="anchor" id="ac13adfdfac6a5ac811cdd9f1f9fc13a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptype.html">ptype</a>* parseline </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td>
          <td class="paramname"><em>mips</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this function parses the line entered by user and identifies the tag, the operation, the arguments, and gets rid of the commentaries </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*mips</td><td>A pointer to a ptype structure, created by the main program. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>it returns the pointer to the same structure, but it modifies mips-&gt;operation and mips-&gt;argline[]</dd></dl>
<dl class="section note"><dt>Note</dt><dd>this functions is meant to parse lines from an elf script, not the commands from the environment. there's another file with functions for that</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>fix bugs. It's not working as it should. </dd></dl>

</div>
</div>
<a class="anchor" id="a7aed72e6510270f49d3f3dba42605a80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptype.html">ptype</a>* splitstr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td>
          <td class="paramname"><em>mips</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this function splits the field full_script from a ptype scructure into nlines lines and stores each line in field scriptlines[][] from the same structure </p>
<p>this function is not yet being used by the program due to bugs in parseline </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 20 2014 11:45:56 for MIPS32-Emulator by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
